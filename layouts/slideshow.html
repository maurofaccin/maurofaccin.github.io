{% extends "page.html" %}

{% set folder = this.components[-1] %}

{% block head_addon %}
<script>
    var x = 1;
    function NextSlide(){
	x++;
	if (x > {{ this.slide_num }})
	    x = 1;
	if (x < 10)
	    src = "{{ folder }}/slide-0"+x+".png";
	else
	    src = "{{ folder }}/slide-"+x+".png";
	document.getElementById("slideshow").src=src;
    }
    function PrevSlide(){
	x--;
	if (x <= 0)
	    x = {{this.slide_num}};
	if (x < 10)
	    src = "{{ folder }}/slide-0"+x+".png";
	else
	    src = "{{ folder }}/slide-"+x+".png";
	document.getElementById("slideshow").src=src;
    }
    document.addEventListener ("click", NextSlide, false);
    document.onkeydown = function(evt) {
	evt = evt || window.event;
	switch (evt.keyCode) {
	    case 37:
		PrevSlide();
		break;
	    case 39:
		NextSlide();
		break;
	}
    };
</script>
{% endblock %}

{% block body %}
  <section>

      <strong class='center'>  Get the PDF from
	  {% if this.type == 'poster' %}
	  <a href="{{ folder }}/poster.pdf">HERE</a>
	  {% else %}
	  <a href="{{ folder }}/slides.pdf">HERE</a>
	  {% endif %} 
      </strong>

      {{this.body}}
      
      {% if this.type == 'talk' %}
      <img id='slideshow' src="{{ folder }}/slide-01.png" alt="Slides" />
      {% else %}
      <a href="{{ folder }}/poster.pdf">
	  <img src="{{ folder }}/poster.png" alt="Poster" />
      </a>
      {% endif %}

  </section>
{% endblock %}
